import { animated, useSpring } from '@react-spring/web'
import styles from './_styles.module.css'

// Calculate animation duration to maintain consistent marquee speed of 150px/s
// Formula: ((SVG_WIDTH * 0.5) / SPEED_PX_PER_SECOND) * 1000
// For 1852px width: ((1852 * 0.5) / 150) * 1000 = 6173ms
const ANIMATION_DURATION_MS = 6173

type Props = {
  isHovered: boolean
}

export const BeekeeperOverlay = ({ isHovered }: Props) => {
  const animatedStyle = useSpring({
    config: { duration: ANIMATION_DURATION_MS },
    from: { x: '0%' },
    loop: isHovered,
    reset: isHovered,
    to: async (next) => {
      if (isHovered) {
        await next({ x: '-50%' })
      }
    },
  })

  return (
    <animated.svg
      aria-hidden={'true'}
      aria-label={'Overlay effect'}
      className={styles.svg}
      focusable={'false'}
      height={'100'}
      preserveAspectRatio={'xMidYMid meet'}
      role={'img'}
      style={animatedStyle}
      viewBox={'0 0 1852 100'}
      width={'1852'}
      xmlns={'http://www.w3.org/2000/svg'}
    >
      <path
        className={styles.overlay}
        d={
          'M120.027 100H0V0H136.611L120.027 100ZM179.284 0H228.421L211.836 100H167.883C175.134 100 181.49 98.87 186.967 96.611C192.459 94.351 196.887 91.219 200.266 87.215C203.644 83.21 205.758 78.613 206.606 73.423C207.455 68.412 207.116 64.027 205.604 60.268C204.076 56.51 201.7 53.546 198.492 51.376C195.267 49.206 191.534 48.054 187.276 47.919V47.047C191.21 46.286 194.82 44.955 198.121 43.054C201.407 41.152 204.138 38.803 206.344 36.007C208.535 33.21 209.893 30.112 210.432 26.711C211.327 21.342 210.726 16.655 208.612 12.651C206.514 8.647 202.996 5.537 198.075 3.322C193.154 1.107 186.89 0 179.284 0ZM300.499 0H313.921L297.352 100H283.652L287.277 78.121H242.584L245.53 60.134H286.737L290.301 38.792H249.094L251.902 21.879H296.873L300.499 0ZM385.999 0H399.421L382.851 100H369.152L372.777 78.121H328.083L331.03 60.134H372.237L375.801 38.792H334.594L337.417 21.879H382.373L385.999 0ZM427.345 0H458.616L434.457 25.705C430.168 30.313 426.558 34.362 423.657 37.852C422.346 39.423 421.096 40.982 419.908 42.53L423.781 21.477L427.345 0ZM492.372 0H503.788L487.204 100H477.685L450.27 43.069L492.372 0ZM575.866 0H589.288L572.719 100H559.019L562.645 78.121H517.951L520.897 60.134H562.105L565.668 38.792H524.461L527.285 21.879H572.241L575.866 0ZM661.366 0H674.788L658.219 100H644.519L648.144 78.121H603.451L606.397 60.134H647.62L651.168 38.792H609.961L612.784 21.879H657.74L661.366 0ZM717.877 0H764.931L748.347 100H685.325L690.246 70.336H705.257C712.863 70.336 719.775 68.915 725.961 66.074C732.163 63.233 737.285 59.206 741.342 53.993C745.385 48.781 747.992 42.595 749.164 35.436C750.368 28.322 749.843 22.103 747.606 16.779C745.369 11.454 741.713 7.327 736.637 4.396C731.561 1.465 725.313 0 717.877 0ZM837.009 0H850.431L833.862 100H820.162L823.788 78.121H779.094L782.04 60.134H823.248L826.811 38.792H785.604L788.412 21.879H833.384L837.009 0ZM893.52 0H1062.27L1045.68 100H917.479L903.255 62.721C908.886 60.231 913.561 56.685 917.31 52.081C921.321 47.159 923.897 41.119 925.07 33.96C926.227 26.89 925.671 20.817 923.419 15.738C921.167 10.66 917.464 6.767 912.342 4.06C907.22 1.353 900.941 0 893.52 0ZM1104.94 0H1154.08L1137.49 100H1093.54C1100.79 100 1107.15 98.87 1112.62 96.611C1118.12 94.351 1122.54 91.219 1125.92 87.215C1129.3 83.21 1131.41 78.613 1132.26 73.423C1133.11 68.412 1132.77 64.027 1131.26 60.268C1129.73 56.51 1127.36 53.546 1124.15 51.376C1120.92 49.206 1117.19 48.054 1112.93 47.919V47.047C1116.87 46.286 1120.48 44.955 1123.78 43.054C1127.06 41.152 1129.79 38.803 1132 36.007C1134.19 33.21 1135.55 30.112 1136.09 26.711C1136.98 21.342 1136.38 16.655 1134.27 12.651C1132.17 8.647 1128.65 5.537 1123.73 3.322C1118.81 1.107 1112.55 0 1104.94 0ZM1226.15 0H1239.58L1223.01 100H1209.31L1212.93 78.121H1168.24L1171.19 60.134H1212.39L1215.96 38.792H1174.75L1177.56 21.879H1222.53L1226.15 0ZM1311.65 0H1325.08L1308.51 100H1294.81L1298.43 78.121H1253.74L1256.69 60.134H1297.89L1301.46 38.792H1260.25L1263.07 21.879H1308.03L1311.65 0ZM1353 0H1384.27L1360.11 25.705C1355.82 30.313 1352.21 34.362 1349.31 37.852C1348 39.423 1346.75 40.982 1345.56 42.53L1349.44 21.477L1353 0ZM1418.03 0H1429.44L1412.86 100H1403.34L1375.93 43.069L1418.03 0ZM1501.52 0H1514.94L1498.37 100H1484.68L1488.3 78.121H1443.61L1446.55 60.134H1487.76L1491.32 38.792H1450.12L1452.94 21.879H1497.9L1501.52 0ZM1587.02 0H1600.44L1583.87 100H1570.17L1573.8 78.121H1529.11L1532.05 60.134H1573.28L1576.82 38.792H1535.62L1538.44 21.879H1583.4L1587.02 0ZM1643.53 0H1690.59L1674 100H1610.98L1615.9 70.336H1630.91C1638.52 70.336 1645.43 68.915 1651.62 66.074C1657.82 63.233 1662.94 59.206 1667 53.993C1671.04 48.781 1673.65 42.595 1674.82 35.436C1676.02 28.322 1675.5 22.103 1673.26 16.779C1671.03 11.454 1667.37 7.327 1662.29 4.396C1657.22 1.465 1650.97 0 1643.53 0ZM1762.66 0H1776.09L1759.52 100H1745.82L1749.44 78.121H1704.75L1707.7 60.134H1748.9L1752.47 38.792H1711.26L1714.07 21.879H1759.04L1762.66 0ZM1819.18 0H1851.31V27.097C1851.31 22.877 1850.57 19.091 1849.08 15.738C1846.82 10.66 1843.12 6.767 1838 4.06C1832.88 1.353 1826.6 0 1819.18 0ZM1851.31 27.097V100H1843.14L1828.91 62.721C1834.54 60.231 1839.22 56.685 1842.97 52.081C1846.98 47.159 1849.55 41.119 1850.73 33.96C1851.11 31.557 1851.31 29.269 1851.31 27.097ZM1813.61 100H1786.62L1792.09 66.98H1801.48L1813.61 100ZM1372.99 100H1336.42L1340.7 74.082L1355.75 59.592L1355.55 59.799L1372.99 100ZM887.951 100H860.968L866.429 66.98H875.825L887.951 100ZM447.339 100H410.76L415.049 74.082L430.091 59.592L429.89 59.799L447.339 100ZM1795.57 45.906L1799.58 21.745H1809.1C1813.9 21.745 1817.48 22.718 1819.89 24.664C1822.28 26.611 1823.11 29.709 1822.4 33.96C1821.95 36.823 1820.97 39.128 1819.44 40.872C1817.93 42.617 1815.95 43.893 1813.55 44.698C1811.12 45.503 1808.3 45.906 1805.08 45.906H1795.57ZM1619.39 49.262L1623.94 21.745H1633.47C1636.7 21.745 1639.35 22.282 1641.45 23.356C1643.56 24.43 1645.04 25.984 1645.92 28.02C1646.79 30.056 1646.99 32.528 1646.5 35.436C1646.05 38.255 1645.03 40.694 1643.47 42.752C1641.9 44.81 1639.89 46.409 1637.42 47.55C1634.97 48.691 1632.13 49.262 1628.91 49.262H1619.39ZM869.916 45.906L873.927 21.745H883.446C888.244 21.745 891.823 22.718 894.23 24.664C896.621 26.611 897.454 29.709 896.745 33.96C896.297 36.823 895.31 39.128 893.783 40.872C892.271 42.617 890.296 43.893 887.889 44.698C885.467 45.503 882.644 45.906 879.419 45.906H869.916ZM1082.66 40.403L1085.83 21.342H1098.11C1101.45 21.342 1104.01 21.98 1105.79 23.255C1107.55 24.53 1108.21 26.488 1107.76 29.128C1107.41 31.454 1106.51 33.468 1105.08 35.168C1103.64 36.868 1101.89 38.166 1099.82 39.06C1097.74 39.955 1095.5 40.403 1093.14 40.403H1082.66ZM1076.43 78.389L1079.92 57.181H1093.74C1096.47 57.181 1098.72 57.528 1100.48 58.221C1102.26 58.915 1103.51 59.944 1104.25 61.309C1104.99 62.673 1105.17 64.385 1104.82 66.443C1104.23 70.201 1102.49 73.132 1099.57 75.235C1096.67 77.338 1092.95 78.389 1088.43 78.389H1076.43ZM157.007 40.403L160.169 21.342H172.45C175.798 21.342 178.358 21.98 180.133 23.255C181.891 24.53 182.555 26.488 182.107 29.128C181.753 31.454 180.858 33.468 179.423 35.168C177.988 36.868 176.229 38.166 174.162 39.06C172.079 39.955 169.842 40.403 167.482 40.403H157.007ZM150.774 78.389L154.261 57.181H168.084C170.814 57.181 173.067 57.528 174.826 58.221C176.6 58.915 177.849 59.944 178.59 61.309C179.33 62.673 179.516 64.385 179.161 66.443C178.574 70.201 176.831 73.132 173.915 75.235C171.015 77.338 167.297 78.389 162.777 78.389H150.774ZM693.733 49.262L698.284 21.745H707.818C711.043 21.745 713.696 22.282 715.794 23.356C717.908 24.43 719.389 25.984 720.268 28.02C721.132 30.056 721.333 32.528 720.839 35.436C720.392 38.255 719.374 40.694 717.815 42.752C716.242 44.81 714.236 46.409 711.768 47.55C709.315 48.691 706.476 49.262 703.252 49.262H693.733Z'
        }
      />
    </animated.svg>
  )
}
